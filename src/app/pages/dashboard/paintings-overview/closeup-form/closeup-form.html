@let painting = formService.painting;

<div class="overlay">
  <div class="overlay-content-box">
    <p class="form-title">
      {{painting ? 'Edit Close-Ups For ' + painting.title : ''}}
    </p>

    <label for="closeup" class="add-closeup-label">Add Clos-Ups +</label>
    <input type="file" id="closeup" name="closeup" accept="image/*" (change)="onImageChange($event)" multiple hidden>

    <div class="images-view" cdkDropList [cdkDropListData]="closeUps()" (cdkDropListDropped)="onDrop($event)"
      cdkDropListOrientation="horizontal" cdkDropListLockAxis="x">
      @for (closeup of closeUps(); track $index){
      <div class="image-box" cdkDrag>
        <button (click)="onRemoveClick($index)">Remove</button>
        <img [src]="closeup.thumbnail" alt="">
      </div>
      }
    </div>

    <div class="buttons-box">
      <shari-button type="button" variant="outlined" (onClick)="closeForm()" [disabled]="isLoading()">
        Cancel
      </shari-button>
      <shari-button type="button" [loading]="isLoading()" (onClick)="onSaveClick()" [disabled]="isLoading()">
        @if(isLoading()){
        <mat-spinner [diameter]="15" [strokeWidth]="2" />
        } @else {
        Save
        }
      </shari-button>
    </div>
  </div>
</div>