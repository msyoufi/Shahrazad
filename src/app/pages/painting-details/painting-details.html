@let pt = painting();

@if (pt) {
<div class="painting-detalis-component-grid">
  <div class="images-list">
    <img [src]="pt.main_image.thumbnail" alt="Main painting thumbnail"
      (click)="onImageSelect(pt.main_image.large, pt.main_image.order)">

    @for(closeUp of pt.close_ups; track closeUp.id){
    <img [src]="closeUp.thumbnail" (click)="onImageSelect(closeUp.large, closeUp.order)"
      alt="A thumbnail of a Close-up of the painting">
    }

  </div>

  <div class="image-view-box" (mousemove)="onImageViewBoxInteraction()" (touchstart)="onImageViewBoxInteraction()">
    <img [src]="currentImageUrl()" alt="Painting Image View" (load)="isLoading.set(false)" shariSwipe
      (swipe)="onImageSwipe($event)" (click)="onImageViewClick()">

    @if(isLoading()){
    <div class="loading-overlay">
      <mat-spinner [diameter]="25" [strokeWidth]="2" />
    </div>
    }

    <div class="swiper-buttons-box" [class.visible]="swiperButtonsVisible()">
      <button (click)="onImageSwipe('right')" [disabled]="!swiperButtonsVisible()">
        &#8592;
      </button>
      <button (click)="onImageSwipe('left')" [disabled]="!swiperButtonsVisible()">
        &#8594;
      </button>
    </div>
  </div>

  <div class="painting-data-box">
    <h2>{{pt.title}}</h2>
    <p>{{pt.material}}</p>
    <p>{{pt.width}} x {{pt.height}} cm</p>
    <p>{{pt.year ? 'Year: ' + pt.year : ''}}</p>
  </div>
</div>
} @else {
<mat-spinner [diameter]="20" [strokeWidth]="2" />
}